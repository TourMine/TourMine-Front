<div class="h-screen flex">

  <div class="hidden lg:flex lg:flex-col justify-center items-center border-none h-screen w-3/5 bg-neutral-900 bg-cover bg-center">

    <div class="flex flex-col justify-center items-start gap-5 mt-10 p-6 m-5">
    
      <h1 class="text-5xl font-bold text-white p-3 border-l-4 border-primary">
        Junte-se à nossa comunidade e entre no jogo!
      </h1>
      
      <h2 class="text-3xl font-medium text-white p-3 border-l-4 border-neutral-700">
        Cadastre-se agora para organizar torneios e competir com os melhores.
      </h2>
  
    </div>
  
    <div class="flex flex-col justify-center items-center w-full bg-transparent">
      <p-carousel 
        [value]="depoimentos" 
        [numVisible]="1" 
        [numScroll]="1" 
        [circular]="true" 
        [autoplayInterval]="3000"
        class="w-1/2">
      <ng-template let-depoimento pTemplate="item">
        <div class="flex items-center justify-start gap-4 text-white bg-gray-800 p-4 m-10 rounded-lg shadow-md">
          <p-avatar icon="pi pi-user" class="mr-2" size="large" shape="circle" />
          <div class="flex-1">
            <p class="italic text-wrap">"{{ depoimento.texto }}"</p>
            <p class="mt-2 font-semibold text-wrap">— {{ depoimento.autor }}</p>
          </div>
        </div>
      </ng-template>
      </p-carousel>

      <div class="flex justify-center w-32 h-1 bg-primary text-center">
      </div>
    </div>
  </div>
  
  
  
  <div class="w-full lg:w-2/5 flex justify-center items-center">
      <form [formGroup]="signupForm" (ngSubmit)="criarUsuario()"  class="flex flex-col gap-5 p-8 w-3/4 max-w-md shadow-lg rounded-lg">
        <h2 class="text-3xl font-medium text-center">Cadastro</h2>
  
        <div class="flex flex-col gap-2">
            <label for="name">Nome</label>
            <input 
                pInputText 
                formControlName="name" 
                type="name" 
                id="name" 
                name="name"
                [ngClass]="[
                    signupForm.get('name')?.hasError('required') && signupForm.get('name')?.touched  ? 'ng-invalid ng-dirty' : ''
                ]"
            />
            @if (isFieldInvalid("name")) {
                <small class="text-red-500">
                    O name é obrigatório.
                </small>
            }
        </div>

        <div class="flex flex-col gap-2">
            <label for="email">Email</label>
            <input 
                pInputText 
                formControlName="email" 
                type="email" 
                id="email" 
                name="email"
                [ngClass]="[
                    signupForm.get('email')?.hasError('required') && signupForm.get('email')?.touched  ? 'ng-invalid ng-dirty' : ''
                ]"
            />
             @if (isFieldInvalid("email")) {
                <small class="text-red-500">
                    O email é obrigatório e deve ser um email válido.
                </small>
            }
        </div>

        <div class="flex flex-col gap-2">
            <label for="password">Senha</label>
            <p-password 
                formControlName="password" 
                id="password" 
                name="password" 
                [toggleMask]="true"
                [ngClass]="[
                    signupForm.get('password')?.hasError('required') && signupForm.get('password')?.touched  ? 'ng-invalid ng-dirty' : ''
                ]"
            ></p-password>
            @if (isFieldInvalid("password")) {
                <small class="text-red-500">
                    A senha é obrigatória e deve ter pelo menos 6 caracteres.
                </small>
            }
        </div>

        <div class="flex flex-wrap gap-4 mb-2">
            <div class="flex items-center">
              <p-radiobutton 
                name="userType"
                formControlName="userType" 
                [value]="2" 
                inputId="participant"
                [ngClass]="[
                    signupForm.get('userType')?.hasError('required') && signupForm.get('userType')?.touched  ? 'ng-invalid ng-dirty' : ''
                ]"
              />
              <label for="participant" class="ml-2">Participante</label>
            </div>
          
            <div class="flex items-center">
              <p-radiobutton 
                name="userType" 
                formControlName="userType"
                [value]="1" 
                inputId="organizer"
                [ngClass]="[
                    signupForm.get('userType')?.hasError('required') && signupForm.get('userType')?.touched  ? 'ng-invalid ng-dirty' : ''
                ]" 
              />
              <label for="organizer" class="ml-2">Organizador</label>
            </div>
            
            <small *ngIf="isFieldInvalid('userType')" class="text-red-500">
              É necessário informar o tipo de usuário.
            </small>
          </div>
  
        <div>
          <p-button 
            label="Cadastrar"
            type="submit"
            [disabled]="signupForm.invalid"
            [loading]="loading"
          />
        </div>
        <p class="text-xs"><a routerLink="/login" class="underline cursor-pointer font-medium">Entrar</a></p>
      </form>
  </div>

</div>